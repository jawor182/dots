#!/bin/sh

randomWall=$(find "$HOME/walls" -type f -iname "*.png" -print0 | shuf -n 1 -z)

case "$1" in
"random")
    if [ "$XDG_SESSION_TYPE" = "x11" ]; then
        xwallpaper --stretch "$randomWall"
    else
        swaybg -m stretch -i "$randomWall"
    fi
    ;;
"set")
    if [ "$XDG_SESSION_TYPE" = "x11" ]; then
        xwallpaper --stretch "$2"
    else
        swaybg -m stretch -i "$2"
    fi
    ;;
"open")
    find "$HOME/walls" -type f -iname '*.png' | shuf | nsxiv -tb -
    ;;
esac
