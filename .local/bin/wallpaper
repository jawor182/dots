#!/bin/sh

randomWall=$(find "$HOME/walls" -type f -iname "*.png" -print0 | shuf -n 1 -z)

case "$1" in
"random")
    if [ "$XDG_SESSION_TYPE" = "x11" ]; then
        xwallpaper --stretch "$randomWall"
    else
        swww img --transition-duration=0.5 --transition-fps=165 --transition-step=90 --transition-type=grow --resize=stretch "$randomWall"
    fi
    ;;
"set")
    if [ "$XDG_SESSION_TYPE" = "x11" ]; then
        xwallpaper --stretch "$2"
    else
        swww img --transition-duration=0.5 --transition-fps=165 --transition-step=90 --transition-type=grow --resize=stretch "$2"
    fi
    ;;
"open")
    find "$HOME/walls" -type f -iname '*.png' | shuf | nsxiv -tb -
    ;;
esac
