#!/usr/bin/env bash

APP_ID="$1"
shift
CMD="$@"

if swaymsg -t get_tree | jq -e ".. | select(.app_id? == \"$APP_ID\")" > /dev/null; then
    swaymsg [app_id="$APP_ID"] scratchpad show
else
    exec $CMD &
    sleep 0.3
    swaymsg [app_id="$APP_ID"] scratchpad show
fi
